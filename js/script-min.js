let modal=document.querySelector(".modal");const modalButton=document.querySelector(".search-button"),modalForm=document.querySelector(".search-form"),modalArrival=modalForm.querySelector("#arrival-date"),modalDeparture=modalForm.querySelector("#departure-date");let numberOfAdults=modal.querySelector("#adult"),numberOfChildrens=modal.querySelector("#children"),adultsButtonMinus=modal.querySelector(".adult-less"),adultsButtonPlus=modal.querySelector(".adult-more"),childrenButtonMinus=modal.querySelector(".children-less"),childrenButtonPlus=modal.querySelector(".children-more"),isStorageSupport=!0,storage="";try{adultStorage=localStorage.getItem("adults"),childrenStorage=localStorage.getItem("childrens")}catch(e){isStorageSupport=!1}modal.classList.add("modal-hide"),modalButton.addEventListener("click",function(e){e.preventDefault(),console.log("Кнопка нажата"),modal.classList.toggle("modal-hide"),modal.classList.toggle("modal-show"),modal.classList.remove("modal-error"),adultStorage&&childrenStorage?(numberOfAdults.value=adultStorage,numberOfChildrens.value=childrenStorage,modalDeparture.focus()):modalArrival.focus()}),modalForm.addEventListener("submit",function(e){modalArrival.value&&modalDeparture.value?isStorageSupport&&(localStorage.setItem("adults",numberOfAdults.value),localStorage.setItem("childrens",numberOfChildrens.value)):(e.preventDefault(),modal.classList.remove("modal-error"),modal.offsetWidth=modal.offsetWidth,modal.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modal.classList.contains("modal-hide")&&(e.preventDefault(),modal.classList.remove("modal-show"),modal.classList.add("modal-hide"),modal.classList.remove("modal-error"))}),adultsButtonMinus.addEventListener("click",function(e){e.preventDefault(),1<numberOfAdults.value&&(numberOfAdults.value=+numberOfAdults.value-1)}),adultsButtonPlus.addEventListener("click",function(e){e.preventDefault(),numberOfAdults.value<10&&(numberOfAdults.value=+numberOfAdults.value+1)}),childrenButtonMinus.addEventListener("click",function(e){e.preventDefault(),0<numberOfChildrens.value&&(numberOfChildrens.value=+numberOfChildrens.value-1)}),childrenButtonPlus.addEventListener("click",function(e){e.preventDefault(),numberOfChildrens.value<10&&(numberOfChildrens.value=+numberOfChildrens.value+1)});